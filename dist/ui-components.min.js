!function(e){e.module("uiComponents.config",[]).value("uiComponents.config",{debug:!0}),e.module("uiComponents.filters",[]),e.module("uiComponents.components",["ui.grid","ui.grid.exporter","ui.grid.selection","ui.grid.pagination","ui.grid.pinning","ui.grid.moveColumns","ui.grid.edit","ui.grid.rowEdit"]),e.module("uiComponents",["uiComponents.config","uiComponents.components","uiComponents.filters"])}(angular),function(e){"use strict";function n(){return function(n,t){var i=[];if(e.isArray(n)){var o=Object.keys(t);n.forEach(function(e){for(var n=!1,d=0;d<o.length;d++){var s=o[d],a=t[s].toLowerCase();if(-1!==e[s].toString().toLowerCase().indexOf(a)){n=!0;break}}n&&i.push(e)})}else i=n;return i}}e.module("uiComponents.filters").filter("propsFilter",n)}(angular),function(e){"use strict";e.module("uiComponents.filters",[])}(angular),function(e){"use strict";var n={restrict:"E",templateUrl:"src/listadoEntidad/entidad-template.html",controller:"ListadoEntidadController as lrc",bindings:{selectAll:"=?",deselectedAll:"=?",entidades:"=?",entidadesSeleccionadas:"=?",servicio:"=?",gridOptions:"<",config:"<?",path:"<?",clickItem:"&?",metodos:"=?"}};e.module("uiComponents.components").component("listadoEntidad",n)}(angular),function(e){"use strict";function n(n,t,i,o,d,s,a){function c(){l(m.path,100,void 0,m.config.links)}function l(e,n,t,i){m.servicio.obtenerDatos(e,i,n,t).then(function(e){m.entidades=e,m.optionsEntidades.data=e,m.optionsEntidades.totalItems=m.entidades.length,r()})}function r(){m.selectAll&&(m.gridApi.grid.modifyRows(m.optionsEntidades.data),m.gridApi.selection.selectAllRows())}function u(){console.log(m.optionsEntidades),m.optionsEntidades.onRegisterApi=function(n){m.gridApi=n,n.expandable.on.rowExpandedStateChanged(t,function(n){n.isExpanded&&(n.entity.subGridOptions=e.copy(m.optionsEntidades.subGridColumnDefs),m.servicio.obtenerDatosSubgrilla(n.entity._links[m.config.subGrilla].href).then(function(e){n.entity.subGridOptions.data=e}))}),n.pagination.on.paginationChanged(t,function(){}),n.selection.on.rowSelectionChanged(t,function(){m.entidadesSeleccionadas=n.selection.getSelectedRows(),"undefined"!=typeof m.clickItem&&m.clickItem({$entidad:m.entidadesSeleccionadas,$entidadesSeleccionadas:m.entidadesSeleccionadas})}),n.selection.on.rowSelectionChangedBatch(t,function(){m.entidadesSeleccionadas=n.selection.getSelectedRows(),"undefined"!=typeof m.clickItem&&m.clickItem({$entidad:m.entidadesSeleccionadas,$entidadesSeleccionadas:m.entidadesSeleccionadas})}),p&&i(function(){r()},150)}}var p=!1,m=this;m.selected={},m.deselectedAll=!1,a.setCurrentLang("es"),m.gridApi=null,m.optionsEntidades=e.copy(m.gridOptions),m.metodosInternos=m.metodos||{},m.metodosInternos.actualizarDatos=c,void 0===m.entidades||0===m.entidades.length?l(m.path,100,void 0,m.config.links):(p=!0,m.optionsEntidades.data=m.entidades),u()}e.module("uiComponents.components").controller("ListadoEntidadController",n)}(angular),function(e){"use strict";var n={restrict:"E",templateUrl:"src/selectData/select-template.html",controller:"SelectController as sc",bindings:{url:"<?",campos:"<?",subcampos:"<?",title:"@",placeholder:"@",servicio:"<?",entidades:"<?",ultimaEntidad:"=?",clickItem:"&?"}};e.module("uiComponents.components").component("selectData",n)}(angular),function(e){"use strict";function n(){function e(e){var n="";if(void 0!==e.selected)for(var t in i.entidad.campos)n+=e.selected[i.entidad.campos[t]],t<i.entidad.campos.length&&(n+=" - ");return n}function n(e){i.clickItem({$event:e})}function t(){i.servicio.obtenerDatos(i.url).then(function(e){i.entidades=e,i.ultimaEntidad=void 0!==i.ultimaEntidad?i.ultimaEntidad:i.entidades[0]})}var i=this;i.cargarDatos=t,i.cargarCampos=e,i.onSelect=n}e.module("uiComponents.components").controller("SelectController",n)}(angular);